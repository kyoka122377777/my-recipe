<%= form_with(model: @recipe, local: true) do |form| %>
  <% if @recipe.errors.any? %>
    <div id="error_explanation">
      <ul>
      <% @recipe.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <!-- タイトル -->
  <div class="mb-3">
    <%= form.label :title, "タイトル" %>
    <%= form.text_field :title, class: "form-control" %>
  </div>

  <!-- 説明 -->
  <div class="mb-3">
    <%= form.label :description, "説明" %>
    <%= form.text_area :description, rows: 5, class: "form-control" %>
  </div>

  <!-- 材料入力欄 -->
  <div id="ingredients-container">
    <% 5.times do |i| %>
      <div class="ingredient-group">
        <div class="mb-2">
          <%= form.label "材料名#{i + 1}" %>
          <%= text_field_tag "recipe[ingredients][]", nil, class: "form-control", placeholder: "例: 塩,砂糖" %>
        </div>
        <div class="mb-2">
          <%= form.label "分量#{i + 1}" %>
          <%= text_field_tag "recipe[amounts][]", nil, class: "form-control", placeholder: "例: 少々" %>
        </div>
      </div>
    <% end %>
  </div>

  # <!-- 追加ボタン -->
  # <div class="mb-3">
  #   <button type="button" id="add-ingredient-btn" class="btn btn-secondary">+ 材料を追加</button>
  # </div>

  <!-- 投稿ボタン -->
  <div>
    <%= form.submit "投稿", class: "btn btn-primary" %>
  </div>
<% end %>
