<%= content_for :title, "レシピ一覧 | My Recipe" %>
<div class="container">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <h1>my-recipes</h1>

      <!-- 検索フォーム -->
      <%= form_with url: recipes_path, method: :get, local: true do %>
        <div class="mb-3">
          <%= text_field_tag :query, params[:query], placeholder: 'キーワードを入力...', class: "form-control" %>
        </div>
        <div class="mb-3">
          <%= submit_tag "検索", class: "btn btn-primary" %>
        </div>
      <% end %>

      <!-- 検索結果表示 -->
      <% if @recipes.any? %>
        <ul class="list-group">
          <% @recipes.each do |recipe| %>
            <li class="list-group-item">
              <%= link_to recipe.title, recipe_path(recipe) %>
            </li>
          <% end %>
        </ul>
      <% else %>
        <p>まだレシピがありません</p>
      <% end %>

      <!-- レシピ作成リンク -->
      <%= link_to 'レシピを作成する', new_recipe_path, class: 'btn btn-primary mt-3' %>
    </div>
  </div>
</div>
